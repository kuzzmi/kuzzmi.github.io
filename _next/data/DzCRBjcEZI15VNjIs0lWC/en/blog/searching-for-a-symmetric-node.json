{"pageProps":{"post":{"html":"<p>This type of tasks is usually a good thing to do when doing some interview preparation as it's pretty short, doesn't require a ton of questions and checks several basic skills at the same time.</p>\n<blockquote>\n  <p>Given two identical DOM tree structures, A and B, and a node from A, find the corresponding node in B.</p>\n</blockquote>\n<p>So, let's say we have a following DOM:</p>\n<pre class=\"html language-html\"><code class=\"hljs html language-html\">  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;root1&quot;</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;node1&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;root2&quot;</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;node2&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>\n<p><img src=\"/uploads/fe25ac3980c8fd4c3876d266b8e91cf0\" alt=\"\" /></p>\n<p>And we're given the node with id <code>node1</code> we need to be able to have just <code>#root1</code>, <code>#root2</code> and <code>#node1</code> to point to the node with id <code>node2</code>.</p>\n<p>Few things you can show off doing a task: understanding of prototyping, knowledge of basic Node properties, such as <code>parentNode</code> and <code>childNodes</code> and array methods.</p>\n<p>My first idea was to go from top to bottom to find a needed node, collecting a list of indices as I dive deeper in the tree, but then I remembered about <code>parentNode</code>.</p>\n<p>So the second idea is to go from a given node to the root node while collecting indices of the current node among its parent's children. After reaching the top, we can use the resulting path to go through the second root node and find a symmetrical node.</p>\n<p><img src=\"/uploads/3b1a759b128fd0d0d665849e50cdf819\" alt=\"\" /></p>\n<pre class=\"javascript language-javascript\"><code class=\"hljs javascript language-javascript\"><span class=\"hljs-comment\">// This function returns a real array of Nodes, so we can use methonds like &quot;indexOf&quot;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">getChildren</span>(<span class=\"hljs-params\">node</span>) {\n    <span class=\"hljs-comment\">// or you can use Array.from(node.childNodes);</span>\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">slice</span>.<span class=\"hljs-title function_\">call</span>(node.<span class=\"hljs-property\">childNodes</span>);\n}\n\n<span class=\"hljs-comment\">// This function returns an array of indices from given node to the root</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">getPath</span>(<span class=\"hljs-params\">root, node</span>) {\n    <span class=\"hljs-keyword\">const</span> path = [];\n    <span class=\"hljs-keyword\">let</span> curElement = node;\n\n    <span class=\"hljs-comment\">// This is important as if a node is null or doesn&#x27;t have a parent</span>\n    <span class=\"hljs-comment\">// there is no need of searching further</span>\n    <span class=\"hljs-keyword\">while</span>(curElement !== root &amp;&amp; curElement &amp;&amp; curElement.<span class=\"hljs-property\">parentNode</span>) {\n     <span class=\"hljs-keyword\">const</span> index = <span class=\"hljs-title function_\">getChildren</span>(curElement.<span class=\"hljs-property\">parentNode</span>).<span class=\"hljs-title function_\">indexOf</span>(curElement);\n     path.<span class=\"hljs-title function_\">push</span>(index);\n        curElement = curElement.<span class=\"hljs-property\">parentNode</span>;\n    }\n\n    <span class=\"hljs-keyword\">return</span> path;\n}\n\n<span class=\"hljs-comment\">// Popping all values from the array of indices we go to the symmetrical node</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">getNodeByPath</span>(<span class=\"hljs-params\">root, originalPath</span>) {\n    <span class=\"hljs-keyword\">const</span> path = [].<span class=\"hljs-title function_\">concat</span>(originalPath);\n    <span class=\"hljs-keyword\">let</span> element = root;\n    <span class=\"hljs-keyword\">while</span> (path.<span class=\"hljs-property\">length</span>) {\n       element = <span class=\"hljs-title function_\">getChildren</span>(element)[path.<span class=\"hljs-title function_\">pop</span>()];\n    }\n    <span class=\"hljs-keyword\">return</span> element;\n}\n\n<span class=\"hljs-comment\">// For convenience</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">getSymmetricNode</span>(<span class=\"hljs-params\">root1, root2, node</span>) {\n <span class=\"hljs-keyword\">const</span> path = <span class=\"hljs-title function_\">getPath</span>(root1, node);\n <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">getNodeByPath</span>(root2, path);\n}\n\n<span class=\"hljs-keyword\">const</span> root1 = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&#x27;root1&#x27;</span>);\n<span class=\"hljs-keyword\">const</span> root2 = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&#x27;root2&#x27;</span>);\n<span class=\"hljs-keyword\">const</span> node1 = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&#x27;node1&#x27;</span>);\n<span class=\"hljs-keyword\">const</span> node2 = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&#x27;node2&#x27;</span>);\n\n<span class=\"hljs-keyword\">const</span> nodeX = <span class=\"hljs-title function_\">getSymmetricNode</span>(root1, root2, node1);\n\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(nodeX === node2); <span class=\"hljs-comment\">// true</span>\n</code></pre>\n<p>If you have a better solution, or any feedback, leave a comment below.</p>","type":"blog","meta":{"slug":"searching-for-a-symmetric-node","title":"Searching for a Symmetric Node","layout":"post","lang":"en","description":"After a while decided to post some more problem solutions. The first problem this year is about looking for a node in a DOM tree: given two identical DOM tree structures, A and B, and a node from A, find the corresponding node in B.\n","tags":["technology","problems solving","html","javascript"],"date":"2017-01-17 20:15:42 +0200"}},"_nextI18Next":{"initialI18nStore":{"en":{"common":{"common":{"name":"Igor Kuzmenko","version":"version","articleFooter":"If you enjoyed the reading, you can tip me <a href=\"https://fundof.me/kuzzmi?tip\" target=\"_blank\" rel=\"noreferrer\">here</a> ðŸ˜‰","articleNotAvailable":"This content is available only in Ukrainian."},"menu":{"home":"Home","blog":"Tech articles","thoughts":"Thoughts","podcast":"Podcast","projects":"Projects","about":"About me"},"home":{"meta":{"description":"Home page of Igor Kuzmenko"},"bio":"developer and tech entrepreneur","read":"Read","recents":"Recent publications","description":{"part_1":"Here I publish ","part_2":"my thoughts","part_3":" and ","part_4":" tech articles","part_5":". Avid Linux and vim user. Co-founder at "}},"blog":{"description":"Different findings in the tech world that I want to share with world."},"thoughts":{"description":"My thoughts about life and work in Ukrainian."}}}},"initialLocale":"en","userConfig":{"i18n":{"defaultLocale":"en","locales":["en","ua"]},"default":{"i18n":{"defaultLocale":"en","locales":["en","ua"]}}}}},"__N_SSG":true}