{"pageProps":{"post":{"html":"<p>Decided to post my implementation of solving <a href=\"https://en.wikipedia.org/wiki/Tower_of_Hanoi\">Towers of Hanoi</a> problem in a \"good, clean\" way.</p>\n<p>The description is taken from a nice book <a href=\"http://www.amazon.com/Cracking-Coding-Interview-Programming-Questions/dp/098478280X\">\"Cracking the Coding Interview\"</a> by Gayle Laakmann McDowell. I'll definitely refer to this book in the future.</p>\n<blockquote>\n  <p>In the classic problem of the Towers of Hanoi, you have 3 towers and N disks of different sizes which can slide onto any tower. The puzzle starts with disks sorted in ascending order of size from top to bottom (i.e., each disk sits on top of an even larger one). You have the following constraints:</p>\n  <ol>\n  <li>Only one disk can be moved at a time.</li>\n  <li>Each move consists of taking the upper disk from one of the stacks and placing it on top  of another stack i.e. a disk can only be moved if it is the uppermost disk on a stack.</li>\n  <li>No disk may be placed on top of a smaller disk.</li>\n  </ol>\n</blockquote>\n<p>The code is written at the time of brushing up data structures, so it relies on the implemented Stack data structure. For reference, you can check my <a href=\"https://github.com/kuzzmi/problems/blob/master/dataStructures/stack.js\">implementation of Stack</a> on GitHub.</p>\n<pre><code class=\"hljs\"><span class=\"hljs-keyword\">var</span> Stack = require(<span class=\"hljs-string\">&#x27;../dataStructures/stack&#x27;</span>);\n\n<span class=\"hljs-comment\">// It could be a puzzle, but I prefer to call puzzles games...</span>\nfunction Game(n) {\n\n    <span class=\"hljs-keyword\">this</span>.height = n;\n\n    <span class=\"hljs-comment\">// Creating a set of towers</span>\n    <span class=\"hljs-keyword\">this</span>.towers = [\n        new Stack(),\n        new Stack(),\n        new Stack()\n    ];\n\n    <span class=\"hljs-comment\">// And filling the first one with &quot;disks&quot;</span>\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = n; i &gt; <span class=\"hljs-number\">0</span>; --i) {\n        <span class=\"hljs-keyword\">this</span>.towers[<span class=\"hljs-number\">0</span>].push(i);\n    }\n\n}\n\n<span class=\"hljs-comment\">// Checking whether or not we can make a move</span>\nGame.prototype.canMove = function(from, to) {\n    <span class=\"hljs-keyword\">var</span> towerFrom = <span class=\"hljs-keyword\">this</span>.towers[from];\n    <span class=\"hljs-keyword\">var</span> towerTo = <span class=\"hljs-keyword\">this</span>.towers[to];\n\n    <span class=\"hljs-keyword\">if</span> (!towerTo.peek()) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>;\n    }\n\n    <span class=\"hljs-keyword\">return</span> towerFrom.peek() &lt; towerTo.peek();\n};\n\n<span class=\"hljs-comment\">// Making a move by popping a disk and pushing it to</span>\n<span class=\"hljs-comment\">// another tower</span>\nGame.prototype.makeMove = function(from, to) {\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">this</span>.isCompleted()) {\n        <span class=\"hljs-keyword\">return</span>;\n    }\n\n    <span class=\"hljs-comment\">// Looking for a valid move between towers</span>\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">this</span>.canMove(from, to)) {\n        <span class=\"hljs-keyword\">this</span>.towers[to].push(<span class=\"hljs-keyword\">this</span>.towers[from].pop());\n    } <span class=\"hljs-keyword\">else</span> {\n        <span class=\"hljs-keyword\">this</span>.towers[from].push(<span class=\"hljs-keyword\">this</span>.towers[to].pop());\n    }\n};\n\n<span class=\"hljs-comment\">// isTowerEmpty is just much more clear than &quot;!this.towers[i].peek();&quot;</span>\nGame.prototype.isTowerEmpty = function(i) {\n    <span class=\"hljs-keyword\">return</span> !<span class=\"hljs-keyword\">this</span>.towers[i].peek();\n};\n\n<span class=\"hljs-comment\">// the same</span>\nGame.prototype.isCompleted = function() {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>.isTowerEmpty(<span class=\"hljs-number\">0</span>) &amp;&amp; <span class=\"hljs-keyword\">this</span>.isTowerEmpty(<span class=\"hljs-number\">1</span>);\n};\n\n<span class=\"hljs-comment\">// Let the magic begin</span>\nGame.prototype.start = function() {\n    <span class=\"hljs-keyword\">if</span> (n % <span class=\"hljs-number\">2</span> === <span class=\"hljs-number\">0</span>) {\n        <span class=\"hljs-keyword\">while</span> (!<span class=\"hljs-keyword\">this</span>.isCompleted()) {\n            <span class=\"hljs-keyword\">this</span>.makeMove(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">1</span>);\n            <span class=\"hljs-keyword\">this</span>.makeMove(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">2</span>);\n            <span class=\"hljs-keyword\">this</span>.makeMove(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>);\n        }\n    } <span class=\"hljs-keyword\">else</span> {\n        <span class=\"hljs-keyword\">while</span> (!<span class=\"hljs-keyword\">this</span>.isCompleted()) {\n            <span class=\"hljs-keyword\">this</span>.makeMove(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">2</span>);\n            <span class=\"hljs-keyword\">this</span>.makeMove(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">1</span>);\n            <span class=\"hljs-keyword\">this</span>.makeMove(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">1</span>);\n        }\n    }\n};\n\nGame.prototype.toString = function() {\n    <span class=\"hljs-keyword\">var</span> result = [];\n    <span class=\"hljs-keyword\">var</span> str = <span class=\"hljs-string\">&#x27;&#x27;</span>;\n\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt; <span class=\"hljs-keyword\">this</span>.height; i++) {\n        str =\n            ( <span class=\"hljs-keyword\">this</span>.towers[<span class=\"hljs-number\">0</span>].pop() || <span class=\"hljs-string\">&#x27;|&#x27;</span> ) + <span class=\"hljs-string\">&#x27;     &#x27;</span> +\n            ( <span class=\"hljs-keyword\">this</span>.towers[<span class=\"hljs-number\">1</span>].pop() || <span class=\"hljs-string\">&#x27;|&#x27;</span> ) + <span class=\"hljs-string\">&#x27;     &#x27;</span> +\n            ( <span class=\"hljs-keyword\">this</span>.towers[<span class=\"hljs-number\">2</span>].pop() || <span class=\"hljs-string\">&#x27;|&#x27;</span> );\n\n        result.push(str);\n    }\n    <span class=\"hljs-keyword\">return</span> result.join(<span class=\"hljs-string\">&#x27;\\n&#x27;</span>);\n};\n\n<span class=\"hljs-keyword\">var</span> n = <span class=\"hljs-number\">5</span>;\n<span class=\"hljs-keyword\">var</span> game = new Game(n);\n\ngame.start();\n\nconsole.log(game.toString());\n</code></pre>\n<p>My solution is not supposed to be the best and the only valid and correct, so please let <a href=\"http://twitter.com/kuzzmi\">me know</a> what do you think about it and whether you have a better solution.</p>","type":"blog","meta":{"slug":"towers-of-hanoi","title":"Towers of Hanoi","layout":"post","lang":"en","description":"Decided to post my implementation of solving Towers of Hanoi problem\n","tags":["technology","problems solving","javascript"],"date":"2016-01-18T22:53:59Z"}},"_nextI18Next":{"initialI18nStore":{"en":{"common":{"common":{"name":"Igor Kuzmenko","version":"version","articleFooter":"If you enjoyed the reading, you can tip me <a href=\"https://fundof.me/igor?tip\" target=\"_blank\" rel=\"noreferrer\">here</a> ðŸ˜‰","articleNotAvailable":"This content is available only in Ukrainian."},"menu":{"home":"Home","blog":"Tech articles","thoughts":"Thoughts","podcast":"Podcast","projects":"Projects","about":"About me"},"home":{"meta":{"description":"Home page of Igor Kuzmenko"},"bio":"developer and tech entrepreneur","read":"Read","recents":"Recent publications","description":{"part_1":"Here I publish ","part_2":"my thoughts","part_3":" and ","part_4":" tech articles","part_5":". Avid Linux and vim user. Co-founder at "}},"blog":{"description":"Different findings in the tech world that I want to share with world."},"thoughts":{"description":"My thoughts about life and work in Ukrainian."},"about":{"body":"Hi ðŸ‘‹<br /><br />My name is Igor Kuzmenko. I love my wife, son, dog and cat. And I love making things up and making them real (but more often this doesn't happen).<br /><br />For a long time, my personal page seemed like an official paper with a bunch of clichÃ©s, so I got sick of it and turned it into something what feels more like me and my approach to life: a combination of lightness, aesthetics, some seriousness and humor (and modesty).<br /><br />I spend my spare time with my family, doing pet projects, playing video games and more: from playing the ukulele and drawing, to electrical engineering and sports car driving.<br /><br />I've tried countless times to increase my online presence, but it never lasts long ðŸ™ƒ<br /><br />My social networks and contacts are available here: <a href=\"https://fundof.me/igor\">fundof.me/igor</a>"}}}},"initialLocale":"en","userConfig":{"i18n":{"defaultLocale":"en","locales":["en","ua"]},"default":{"i18n":{"defaultLocale":"en","locales":["en","ua"]}}}}},"__N_SSG":true}