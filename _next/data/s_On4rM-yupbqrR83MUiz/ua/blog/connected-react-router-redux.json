{"pageProps":{"post":{"html":"<p>I just found an issue that I had hard times solving until I saw a\ncomment somewhere on the Internet (can't find it, sorry).</p>\n<p>In a nutshell, after wrapping the first child of <code>ConnectedRouter</code> with <code>connect</code>, weird stuff started happening with my routes.</p>\n<p>Consider having this situation:</p>\n<pre><code class=\"hljs\"><span class=\"hljs-comment\">// index.js</span>\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">React</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;react&#x27;</span>\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">ReactDOM</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;react-dom&#x27;</span>\n<span class=\"hljs-keyword\">import</span> { <span class=\"hljs-title class_\">Provider</span> } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;react-redux&#x27;</span>\n<span class=\"hljs-keyword\">import</span> { <span class=\"hljs-title class_\">ConnectedRouter</span> } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;react-router-redux&#x27;</span>\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">AppContainer</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;./containers/app&#x27;</span>\n<span class=\"hljs-keyword\">import</span> { history, store } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;./store&#x27;</span>\n\n<span class=\"hljs-title class_\">ReactDOM</span>.<span class=\"hljs-title function_\">render</span>(\n  <span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Provider</span> <span class=\"hljs-attr\">store</span>=<span class=\"hljs-string\">{store}</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">ConnectedRouter</span> <span class=\"hljs-attr\">history</span>=<span class=\"hljs-string\">{history}</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">AppContainer</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">ConnectedRouter</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Provider</span>&gt;</span></span>,\n  <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&#x27;root&#x27;</span>)\n)\n</code></pre>\n<pre><code class=\"hljs\"><span class=\"hljs-comment\">// WRONG</span>\n<span class=\"hljs-comment\">// containers/app.js</span>\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">React</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;react&#x27;</span>\n<span class=\"hljs-keyword\">import</span> { connect } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;react-redux&#x27;</span>;\n\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">AppContainer</span> = (<span class=\"hljs-params\">{ foo }</span>) =&gt; (\n  <span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>{ foo }<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span></span>\n)\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-title function_\">connect</span>(<span class=\"hljs-function\">() =&gt;</span> ({ <span class=\"hljs-attr\">foo</span>: <span class=\"hljs-string\">&#x27;bar&#x27;</span> }))(<span class=\"hljs-title class_\">AppContainer</span>);\n</code></pre>\n<p>What you need to do in this case is to wrap your \"connected\" component with <code>withRouter</code> provided by <code>react-router</code>:</p>\n<pre><code class=\"hljs\"><span class=\"hljs-comment\">// RIGHT</span>\n<span class=\"hljs-comment\">// containers/app.js</span>\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">React</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;react&#x27;</span>\n<span class=\"hljs-keyword\">import</span> { withRouter } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;react-router-dom&#x27;</span>\n<span class=\"hljs-keyword\">import</span> { connect } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;react-redux&#x27;</span>\n\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">AppContainer</span> = (<span class=\"hljs-params\">{ foo }</span>) =&gt; (\n  <span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>{ foo }<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span></span>\n)\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-title function_\">withRouter</span>(\n  <span class=\"hljs-title function_\">connect</span>(<span class=\"hljs-function\">() =&gt;</span> ({ <span class=\"hljs-attr\">foo</span>: <span class=\"hljs-string\">&#x27;bar&#x27;</span> }))(<span class=\"hljs-title class_\">AppContainer</span>)\n)\n</code></pre>\n<p>Here you go.</p>\n<p>I hope this helps!</p>","type":"blog","meta":{"slug":"connected-react-router-redux","title":"React Router + Connected Component","layout":"post","lang":"en","description":"A tip on how to fix issue when using connected React Router v4 and Redux in React\n","tags":["technology","react","redux","javascript"],"date":"2019-02-19 05:00:00 +0200"}},"_nextI18Next":{"initialI18nStore":{"ua":{"common":{"common":{"name":"–Ü–≥–æ—Ä –ö—É–∑—å–º–µ–Ω–∫–æ","version":"–≤–µ—Ä—Å—ñ—è","articleFooter":"–°–ø–æ–¥–æ–±–∞–ª–∞—Å—å —Å—Ç–∞—Ç—Ç—è? –ù–∞ —á–∞–π –º–æ–∂–Ω–∞ –ª–∏—à–∏—Ç–∏ <a href=\"https://fundof.me/kuzzmi?tip\" target=\"_blank\" rel=\"noreferrer\">–æ—Å—å —Ç—É—Ç</a> üòâ","articleNotAvailable":"–¶–µ–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–æ—Å—Ç—É–ø–Ω–∏–π —Ç—ñ–ª—å–∫–∏ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é –º–æ–≤–æ—é."},"menu":{"home":"–ì–æ–ª–æ–≤–Ω–∞","blog":"–¢–µ—Ö–Ω—ñ—á–Ω—ñ —Å—Ç–∞—Ç—Ç—ñ","thoughts":"–†–æ–∑–¥—É–º–∏","podcast":"–ü–æ–¥–∫–∞—Å—Ç","projects":"–ü—Ä–æ—î–∫—Ç–∏","about":"–ü—Ä–æ –º–µ–Ω–µ"},"home":{"meta":{"description":"–î–æ–º–∞—à–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –Ü–≥–æ—Ä–∞ –ö—É–∑—å–º–µ–Ω–∫–∞"},"bio":"—Ä–æ–∑—Ä–æ–±–Ω–∏–∫ —Ç–∞ tech –ø—ñ–¥–ø—Ä–∏—î–º–µ—Ü—å","read":"–ß–∏—Ç–∞—Ç–∏","recents":"–û—Å—Ç–∞–Ω–Ω—ñ –¥–æ–ø–∏—Å–∏","description":{"part_1":"–¢—É—Ç —è –ø—É–±–ª—ñ–∫—É—é ","part_2":"—Å–≤–æ—ó —Ä–æ–∑–¥—É–º–∏","part_3":" —ñ ","part_4":" —Ç–µ—Ö–Ω—ñ—á–Ω—ñ —Å—Ç–∞—Ç—Ç—ñ","part_5":". –ó–∞–≤–∑—è—Ç–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á Linux —ñ vim. –°–ø—ñ–≤–∑–∞—Å–Ω–æ–≤–Ω–∏–∫ –≤ "}},"blog":{"description":"–ó–Ω–∞—Ö—ñ–¥–∫–∏ —ñ –≤—Å—ñ–ª—è–∫—ñ —Ü—ñ–∫–∞–≤–æ—Å—Ç—ñ, —è–∫–∏–º–∏ —è –∑–∞—Ö–æ—Ç—ñ–≤ –ø–æ–¥—ñ–ª–∏—Ç–∏—Å—è –∑—ñ —Å–≤—ñ—Ç–æ–º."},"thoughts":{"description":"–ú–æ—ó —Ä–æ–∑–¥—É–º–∏ –ø—Ä–æ –∂–∏—Ç—Ç—è —ñ —Ä–æ–±–æ—Ç—É."},"tags":{"philosophy":"—Ñ—ñ–ª–æ—Å–æ—Ñ—ñ—è","psychology":"–ø—Å–∏—Ö–æ–ª–æ–≥—ñ—è","story":"–º–æ—è —ñ—Å—Ç–æ—Ä—ñ—è","marketing":"–º–∞—Ä–∫–µ—Ç–∏–Ω–≥","startup":"—Å—Ç–∞—Ä—Ç–∞–ø–∏","bad advice":"—à–∫—ñ–¥–ª–∏–≤—ñ –ø–æ—Ä–∞–¥–∏","career":"–∫–∞—Ä'—î—Ä–∞","work":"—Ä–æ–±–æ—Ç–∞","burn out":"–≤–∏–≥–æ—Ä—è–Ω–Ω—è"}}},"en":{"common":{"common":{"name":"Igor Kuzmenko","version":"version","articleFooter":"If you enjoyed the reading, you can tip me <a href=\"https://fundof.me/kuzzmi?tip\" target=\"_blank\" rel=\"noreferrer\">here</a> üòâ","articleNotAvailable":"This content is available only in Ukrainian."},"menu":{"home":"Home","blog":"Tech articles","thoughts":"Thoughts","podcast":"Podcast","projects":"Projects","about":"About me"},"home":{"meta":{"description":"Home page of Igor Kuzmenko"},"bio":"developer and tech entrepreneur","read":"Read","recents":"Recent publications","description":{"part_1":"Here I publish ","part_2":"my thoughts","part_3":" and ","part_4":" tech articles","part_5":". Avid Linux and vim user. Co-founder at "}},"blog":{"description":"Different findings in the tech world that I want to share with world."},"thoughts":{"description":"My thoughts about life and work in Ukrainian."}}}},"initialLocale":"ua","userConfig":{"i18n":{"defaultLocale":"en","locales":["en","ua"]},"default":{"i18n":{"defaultLocale":"en","locales":["en","ua"]}}}}},"__N_SSG":true}