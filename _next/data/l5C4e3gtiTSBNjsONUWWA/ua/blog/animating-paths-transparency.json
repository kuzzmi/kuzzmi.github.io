{"pageProps":{"post":{"html":"<p>At the moment I'm learning Android development and one of the issues that I faced was animating Path transparency.</p>\n<p>I couldn't find a copy&amp;paste solution, what is pretty strange as it should be a straightforward problem/solution.</p>\n<p>This is why after making a few tries and finding something that is actually working, I'd like to share my solution.</p>\n<pre class=\"java language-java\"><code class=\"hljs java language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">OverlayDrawView</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">View</span> {\n    <span class=\"hljs-keyword\">private</span> Paint mPaint;\n    <span class=\"hljs-keyword\">private</span> Path mPath;\n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">float</span> mAlpha;\n    <span class=\"hljs-keyword\">private</span> ObjectAnimator mObjectAnimator;\n\n    <span class=\"hljs-comment\">/**\n     * Default constructor\n     * <span class=\"hljs-doctag\">@param</span> context\n     */</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">OverlayDrawView</span><span class=\"hljs-params\">(Context context)</span> {\n        <span class=\"hljs-built_in\">super</span>(context);\n        init();\n    }\n\n    <span class=\"hljs-comment\">/**\n     * Default constructor\n     * <span class=\"hljs-doctag\">@param</span> context\n     */</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">OverlayDrawView</span><span class=\"hljs-params\">(Context context, AttributeSet attrs)</span> {\n        <span class=\"hljs-built_in\">super</span>(context, attrs);\n        init();\n    }\n\n    <span class=\"hljs-comment\">/**\n     * Default constructor\n     * <span class=\"hljs-doctag\">@param</span> context\n     */</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">OverlayDrawView</span><span class=\"hljs-params\">(Context context, AttributeSet attrs, <span class=\"hljs-type\">int</span> defStyleAttr)</span> {\n        <span class=\"hljs-built_in\">super</span>(context, attrs, defStyleAttr);\n        init();\n    }\n\n    <span class=\"hljs-comment\">/**\n     * Setting up the painter to draw Path\n     */</span>\n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">init</span><span class=\"hljs-params\">()</span> {\n        mPaint = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Paint</span>();\n        mPaint.setColor(Color.rgb(<span class=\"hljs-number\">255</span>, <span class=\"hljs-number\">255</span>, <span class=\"hljs-number\">255</span>));\n        mPaint.setStrokeWidth(<span class=\"hljs-number\">10</span>);\n        mPaint.setStyle(Paint.Style.STROKE);\n\n        <span class=\"hljs-comment\">// Animating alpha channel from 0 to 255</span>\n        <span class=\"hljs-comment\">// Alpha channel is int, thus ObjectAnimator.ofInt is used</span>\n        mObjectAnimator = ObjectAnimator.ofInt(mPaint, <span class=\"hljs-string\">&quot;alpha&quot;</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">255</span>);\n        mObjectAnimator.setDuration(<span class=\"hljs-number\">600</span>);\n\n        <span class=\"hljs-comment\">// Just Linear interpolation</span>\n        mObjectAnimator.setInterpolator(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">LinearInterpolator</span>());\n\n        <span class=\"hljs-comment\">// Here you can handle value changes</span>\n        mObjectAnimator.addUpdateListener(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ValueAnimator</span>.AnimatorUpdateListener() {\n            <span class=\"hljs-meta\">@Override</span>\n            <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">onAnimationUpdate</span><span class=\"hljs-params\">(ValueAnimator animation)</span> {\n\n                <span class=\"hljs-comment\">// Casting changed Object as int to mPaint as a value of alpha</span>\n                mPaint.setAlpha((<span class=\"hljs-type\">int</span>) animation.getAnimatedValue());\n                invalidate();\n            }\n        });\n    }\n\n    <span class=\"hljs-comment\">/**\n     * onDraw event callback\n     * <span class=\"hljs-doctag\">@param</span> canvas Canvas\n     */</span>\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">onDraw</span><span class=\"hljs-params\">(Canvas canvas)</span> {\n        <span class=\"hljs-built_in\">super</span>.onDraw(canvas);\n        <span class=\"hljs-keyword\">if</span> (mPath != <span class=\"hljs-literal\">null</span>) {\n            canvas.drawPath(mPath, mPaint);\n        }\n    }\n\n    <span class=\"hljs-comment\">/**\n     * Setting path that has to be drawn\n     * <span class=\"hljs-doctag\">@param</span> path Path\n     */</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">setPath</span><span class=\"hljs-params\">(Path path)</span> {\n        <span class=\"hljs-built_in\">this</span>.mPath = path;\n        mObjectAnimator.start();\n    }\n}\n</code></pre>","type":"blog","meta":{"slug":"animating-paths-transparency","title":"Animating Path's Transparency","layout":"post","lang":"en","description":"A small example of implemetating a Path transparency animation with ObjectAnimator\n","tags":["technology","android","development","animation"],"date":"2016-03-26 18:36:22 +0200"}},"_nextI18Next":{"initialI18nStore":{"ua":{"common":{"common":{"name":"–Ü–≥–æ—Ä –ö—É–∑—å–º–µ–Ω–∫–æ","version":"–≤–µ—Ä—Å—ñ—è","articleFooter":"–°–ø–æ–¥–æ–±–∞–ª–∞—Å—å —Å—Ç–∞—Ç—Ç—è? –ù–∞ —á–∞–π –º–æ–∂–Ω–∞ –ª–∏—à–∏—Ç–∏ <a href=\"https://fundof.me/kuzzmi?tip\" target=\"_blank\" rel=\"noreferrer\">–æ—Å—å —Ç—É—Ç</a> üòâ","articleNotAvailable":"–¶–µ–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–æ—Å—Ç—É–ø–Ω–∏–π —Ç—ñ–ª—å–∫–∏ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é –º–æ–≤–æ—é."},"menu":{"home":"–ì–æ–ª–æ–≤–Ω–∞","blog":"–¢–µ—Ö–Ω—ñ—á–Ω—ñ —Å—Ç–∞—Ç—Ç—ñ","thoughts":"–†–æ–∑–¥—É–º–∏","podcast":"–ü–æ–¥–∫–∞—Å—Ç","projects":"–ü—Ä–æ—î–∫—Ç–∏","about":"–ü—Ä–æ –º–µ–Ω–µ"},"home":{"meta":{"description":"–î–æ–º–∞—à–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –Ü–≥–æ—Ä–∞ –ö—É–∑—å–º–µ–Ω–∫–∞"},"bio":"—Ä–æ–∑—Ä–æ–±–Ω–∏–∫ —Ç–∞ tech –ø—ñ–¥–ø—Ä–∏—î–º–µ—Ü—å","read":"–ß–∏—Ç–∞—Ç–∏","recents":"–û—Å—Ç–∞–Ω–Ω—ñ –¥–æ–ø–∏—Å–∏","description":{"part_1":"–¢—É—Ç —è –ø—É–±–ª—ñ–∫—É—é ","part_2":"—Å–≤–æ—ó —Ä–æ–∑–¥—É–º–∏","part_3":" —ñ ","part_4":" —Ç–µ—Ö–Ω—ñ—á–Ω—ñ —Å—Ç–∞—Ç—Ç—ñ","part_5":". –ó–∞–≤–∑—è—Ç–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á Linux —ñ vim. –°–ø—ñ–≤–∑–∞—Å–Ω–æ–≤–Ω–∏–∫ –≤ "}},"blog":{"description":"–ó–Ω–∞—Ö—ñ–¥–∫–∏ —ñ –≤—Å—ñ–ª—è–∫—ñ —Ü—ñ–∫–∞–≤–æ—Å—Ç—ñ, —è–∫–∏–º–∏ —è –∑–∞—Ö–æ—Ç—ñ–≤ –ø–æ–¥—ñ–ª–∏—Ç–∏—Å—è –∑—ñ —Å–≤—ñ—Ç–æ–º."},"thoughts":{"description":"–ú–æ—ó —Ä–æ–∑–¥—É–º–∏ –ø—Ä–æ –∂–∏—Ç—Ç—è —ñ —Ä–æ–±–æ—Ç—É."},"about":{"body":"–ü—Ä–∏–≤—ñ—Ç, –º–µ–Ω–µ –∑–≤—É—Ç—å –Ü–≥–æ—Ä –ö—É–∑—å–º–µ–Ω–∫–æ. –Ø –ª—é–±–ª—é —Å–≤–æ—é –∂—ñ–Ω–∫—É, —Å–∏–Ω–∞, —Å–æ–±–∞–∫—É —Ç–∞ –∫–æ—Ç–∞. –ê —â–µ —è –ª—é–±–ª—é –≤–∏–≥–∞–¥—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ —à—Ç—É–∫–µ–Ω—Ü—ñ—ó —ñ –≤—Ç—ñ–ª—é–≤–∞—Ç–∏ —ó—Ö —É –∂–∏—Ç—Ç—è (—ñ–Ω–∫–æ–ª–∏ —Ü–µ –≤–¥–∞—î—Ç—å—Å—è, –∞–ª–µ —á–∞—Å—Ç—ñ—à–µ - –Ω—ñ).<br /><br />–î–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–æ–≤–≥–æ –º–æ—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –±—É–ª–∞ —Å—Ö–æ–∂–∞ –Ω–∞ —Ä–µ–∑—é–º–µ —ñ–∑ –∫—É–ø–æ—é –∫–ª—ñ—à–µ, –º–µ–Ω—ñ —Ü–µ –Ω–∞–±—Ä–∏–¥–ª–æ —ñ —è –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏–≤ —ó—ó –Ω–∞ —â–æ—Å—å, —â–æ –±—ñ–ª—å—à–µ —Å—Ö–æ–∂–µ –Ω–∞ –º–µ–Ω–µ —ñ –º—ñ–π –ø—ñ–¥—Ö—ñ–¥ –¥–æ –∂–∏—Ç—Ç—è: –ø–æ—î–¥–Ω–∞–Ω–Ω—è –ª–µ–≥–∫–æ—Å—Ç—ñ, –µ—Å—Ç–µ—Ç–∏–∫–∏, –¥–µ—è–∫–æ—ó —Å–µ—Ä–π–æ–∑–Ω–æ—Å—Ç—ñ —ñ –≥—É–º–æ—Ä—É (—ñ —Å–∫—Ä–æ–º–Ω–æ—Å—Ç—ñ).<br /><br />–£ –≤—ñ–ª—å–Ω–∏–π –≤—ñ–¥ —Ä–æ–±–æ—Ç–∏ —á–∞—Å —è –ø—Ä–æ–≤–æ–¥–∂—É –∑ —Ä–æ–¥–∏–Ω–æ—é, –∑–∞–π–º–∞—é—Å—è –ø–µ—Ç-–ø—Ä–æ—î–∫—Ç–∞–º–∏, –≥—Ä–∞—é —É –≤—ñ–¥–µ–æ —ñ–≥—Ä–∏ —ñ —â–µ –±–∞–≥–∞—Ç–æ —á–æ–≥–æ —Ä–æ–±–ª—é: –≤—ñ–¥ –≥—Ä–∏ –Ω–∞ —É–∫—É–ª—î–ª—î —ñ –º–∞–ª—é–≤–∞–Ω–Ω—è, –¥–æ –µ–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω—ñ–∫–∏ —ñ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–≥–æ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∞–≤—Ç—ñ–≤–∫–æ—é.<br /><br />–Ø –±–µ–∑–ª—ñ—á —Ä–∞–∑—ñ–≤ –Ω–∞–º–∞–≥–∞–≤—Å—è –ø—ñ–¥–≤–∏—â–∏—Ç–∏ —Ä—ñ–≤–µ–Ω—å —Å–≤–æ—î—ó –æ–Ω–ª–∞–π–Ω-–ø—Ä–∏—Å—É—Ç–Ω–æ—Å—Ç—ñ, –ø—Ä–æ—Ç–µ —Ü–µ –Ω—ñ–∫–æ–ª–∏ –Ω–µ —Ç—Ä–∏–≤–∞—î –¥–æ–≤–≥–æ üôÉ<br /><br />–ú–æ—ó —Å–æ—Ü—ñ–∞–ª—å–Ω—ñ –º–µ—Ä–µ–∂—ñ —ñ –∫–æ–Ω—Ç–∞–∫—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ –æ—Å—å —Ç—É—Ç: <a href=\"https://fundof.me/igor\">fundof.me/igor</a>"},"tags":{"philosophy":"—Ñ—ñ–ª–æ—Å–æ—Ñ—ñ—è","psychology":"–ø—Å–∏—Ö–æ–ª–æ–≥—ñ—è","story":"–º–æ—è —ñ—Å—Ç–æ—Ä—ñ—è","marketing":"–º–∞—Ä–∫–µ—Ç–∏–Ω–≥","startup":"—Å—Ç–∞—Ä—Ç–∞–ø–∏","bad advice":"—à–∫—ñ–¥–ª–∏–≤—ñ –ø–æ—Ä–∞–¥–∏","career":"–∫–∞—Ä'—î—Ä–∞","work":"—Ä–æ–±–æ—Ç–∞","burn out":"–≤–∏–≥–æ—Ä—è–Ω–Ω—è"}}},"en":{"common":{"common":{"name":"Igor Kuzmenko","version":"version","articleFooter":"If you enjoyed the reading, you can tip me <a href=\"https://fundof.me/kuzzmi?tip\" target=\"_blank\" rel=\"noreferrer\">here</a> üòâ","articleNotAvailable":"This content is available only in Ukrainian."},"menu":{"home":"Home","blog":"Tech articles","thoughts":"Thoughts","podcast":"Podcast","projects":"Projects","about":"About me"},"home":{"meta":{"description":"Home page of Igor Kuzmenko"},"bio":"developer and tech entrepreneur","read":"Read","recents":"Recent publications","description":{"part_1":"Here I publish ","part_2":"my thoughts","part_3":" and ","part_4":" tech articles","part_5":". Avid Linux and vim user. Co-founder at "}},"blog":{"description":"Different findings in the tech world that I want to share with world."},"thoughts":{"description":"My thoughts about life and work in Ukrainian."},"about":{"body":"Hi üëã<br /><br />My name is Igor Kuzmenko. I love my wife, son, dog and cat. And I love making things up and making them real (but more often this doesn't happen).<br /><br />For a long time, my personal page seemed like an official paper with a bunch of clich√©s, so I got sick of it and turned it into something what feels more like me and my approach to life: a combination of lightness, aesthetics, some seriousness and humor (and modesty).<br /><br />I spend my spare time with my family, doing pet projects, playing video games and more: from playing the ukulele and drawing, to electrical engineering and sports car driving.<br /><br />I've tried countless times to increase my online presence, but it never lasts long üôÉ<br /><br />My social networks and contacts are available here: <a href=\"https://fundof.me/igor\">fundof.me/igor</a>"}}}},"initialLocale":"ua","userConfig":{"i18n":{"defaultLocale":"en","locales":["en","ua"]},"default":{"i18n":{"defaultLocale":"en","locales":["en","ua"]}}}}},"__N_SSG":true}