<!DOCTYPE html><html lang="ua"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Web Fonts, WebFontLoader and Ember | Технічні статті | Ігор Кузьменко</title><meta name="robots" content="index,follow"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="@kuzzmi"/><meta property="og:title" content="Web Fonts, WebFontLoader and Ember"/><meta property="og:description" content="In this post I describe why it can be a good idea to use Web Font Loader library and how to use it with Ember application.
"/><meta property="og:url" content="https://kuzzmi.com/ua/blog/web-fonts-webfontloader-and-ember/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2016-02-07T17:54:44Z"/><meta property="article:author" content="https://kuzzmi.com/about"/><meta property="article:tag" content="technology"/><meta property="article:tag" content="javascript"/><meta property="article:tag" content="tips"/><meta property="article:tag" content="ember"/><meta property="article:tag" content="fonts"/><meta property="article:tag" content="web development"/><meta property="og:image" content="https://kuzzmi.com/assets/articles/blog/web-fonts-webfontloader-and-ember/cover.png"/><meta property="og:image:alt" content="Web Fonts, WebFontLoader and Ember"/><meta property="og:image:type" content="image/png"/><meta property="og:image:width" content="1342"/><meta property="og:image:height" content="853"/><meta property="og:site_name" content="Ігор Кузьменко"/><link rel="canonical" href="https://kuzzmi.com/ua/blog/web-fonts-webfontloader-and-ember/"/><meta name="next-head-count" content="25"/><link rel="dns-prefetch" href="https://www.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="180x180" href="/static/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicon-16x16.png"/><link rel="manifest" href="/static/site.webmanifest"/><link rel="shortcut icon" href="/static/favicon.ico" type="image/x-icon"/><meta name="apple-mobile-web-app-capable" content="yes"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/styles/base16/railscasts.min.css"/><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/highlight.min.js"></script><meta name="author" content="Igor Kuzmenko"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/8d3077ef275150e2.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8d3077ef275150e2.css" data-n-g=""/><link rel="preload" href="/_next/static/css/5efee9f793991289.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5efee9f793991289.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-fc97f3f1282ce3ed.js" defer=""></script><script src="/_next/static/chunks/main-fca90e9fb8aa5e83.js" defer=""></script><script src="/_next/static/chunks/pages/_app-84072d5e9d49e694.js" defer=""></script><script src="/_next/static/chunks/943-d7292ea680771043.js" defer=""></script><script src="/_next/static/chunks/pages/%5Blocale%5D/blog/%5Bslug%5D-ab157fa286a9d78a.js" defer=""></script><script src="/_next/static/1UWvdfdzWhWGN3JZU9Q4a/_buildManifest.js" defer=""></script><script src="/_next/static/1UWvdfdzWhWGN3JZU9Q4a/_ssgManifest.js" defer=""></script><script src="/_next/static/1UWvdfdzWhWGN3JZU9Q4a/_middlewareManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&family=PT+Sans:ital,wght@0,400;0,700;1,400&display=swap">@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxjPg.woff) format('woff')}@font-face{font-family:'PT Sans';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizYRExUiTo99u79D0eEww.woff) format('woff')}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizaRExUiTo99u79P0Y.woff) format('woff')}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizfRExUiTo99u79B_mh4Oo.woff) format('woff')}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTN1OTk6OThhvAWV8.woff) format('woff');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTPlOTk6OThhvAWV8.woff) format('woff');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTOVOTk6OThhvAWV8.woff) format('woff');unicode-range:U+0370-03FF}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTNVOTk6OThhvAWV8.woff) format('woff');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTNFOTk6OThhvAWV8.woff) format('woff');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTOlOTk6OThhvA.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'PT Sans';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizYRExUiTo99u79D0e0ysmIAjcQ-woy.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'PT Sans';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizYRExUiTo99u79D0e0w8mIAjcQ-woy.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'PT Sans';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizYRExUiTo99u79D0e0ycmIAjcQ-woy.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'PT Sans';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizYRExUiTo99u79D0e0x8mIAjcQ-w.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizaRExUiTo99u79D0-ExcOPIDUg-g.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizaRExUiTo99u79D0aExcOPIDUg-g.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizaRExUiTo99u79D0yExcOPIDUg-g.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizaRExUiTo99u79D0KExcOPIDU.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizfRExUiTo99u79B_mh0OOtLR8a8zILig.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizfRExUiTo99u79B_mh0OqtLR8a8zILig.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizfRExUiTo99u79B_mh0OCtLR8a8zILig.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/ptsans/v17/jizfRExUiTo99u79B_mh0O6tLR8a8zI.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next"><main class="PageLayout_page_container__M8QGN "><menu class="PageLayout_menu_container__La6NU"><ul><li class="PageLayout_inactive__g2bTn"><a href="/ua/">Головна</a></li><li><a href="/ua/blog/">Технічні статті</a></li><li class="PageLayout_inactive__g2bTn"><a href="/ua/thoughts/">Роздуми</a></li><li class="PageLayout_inactive__g2bTn"><a href="/ua/about/">Про мене</a></li></ul></menu><section class="PageLayout_content_container__1IMZI"><header class="PageLayout_header_container__Y6dbq"><div><div class="PageLayout_menu_button__vWi4y"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px" height="24px"><path fill="none" stroke="#000000" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M3 12L21 12M3 6L21 6M3 18L21 18"></path></svg></div><p class="PageLayout_name__xhUaP"></p></div><div class="PageLayout_lang_switcher___L3bH"><p class="PageLayout_version__2_iha">версія<!-- -->:<!-- --></p><div class="PageLayout_langs__z_SxD"><a class="PageLayout_active__UxQoO" href="/ua/blog/web-fonts-webfontloader-and-ember/">🇺🇦</a><a class="" href="/en/blog/web-fonts-webfontloader-and-ember/">🇬🇧</a></div></div></header><article class="PageLayout_content__6Pdc3"><div class="Post_container__jmeoa"><div class="Post_notAvailable__snvTZ">Цей контент доступний тільки англійською мовою.</div><h1>Web Fonts, WebFontLoader and Ember</h1><p class="Post_date__B7bMG">07.02.2016, 19:54:44</p><div><p>In this blog I'm doing one not so tricky, though not trivial thing, when I want to set a navigational indicator styling based on the current "active" route.</p>
<p>While using the web fonts, font-based styling can become a challenge, especially if you need to do this on the page load.
The problem is that styling will be done based on the first rendered font before your custom fonts are loaded, so the end result will be wrong.</p>
<p>Of course, you might try using timeouts, but this will not work as the long term solution. Basically as always :) My very first attempt was simply delaying styling by using timeouts, but when the network was slow, nothing worked as supposed to, so I decided to go with more robust solution.</p>
<p><strong>Note</strong>: This solution will work only if the fonts you're going to use are from <a href="https://www.google.com/fonts">Google Fonts</a> or <a href="http://www.typekit.com/">Typekit</a> and some others, but not so many things are needed to be changed to use other webfonts providers.</p>
<p>First of all you need to get <a href="https://github.com/typekit/webfontloader"><strong>Web Font Loader</strong></a> script, which is "co-developed by&nbsp;Google&nbsp;and&nbsp;<a href="http://www.typekit.com/">Typekit</a>."</p>
<p>WFL (Web Font Loader) README file says:</p>
<blockquote>
  <p>Web Font Loader gives you added control when using linked fonts via @font-face. It provides a common interface to loading fonts regardless of the source, then adds a standard set of events you may use to control the loading experience.</p>
</blockquote>
<p>After obtaining the script, you need to include it to your Ember-cli-build configuration:</p>
<pre class="javascript language-javascript"><code class="hljs javascript language-javascript"><span class="hljs-comment">// ember-cli-build.js</span>
...
app.<span class="hljs-title function_">import</span>(<span class="hljs-string">&#x27;vendor/webfontloader.js&#x27;</span>);
...
</code></pre>
<p>Then we need to create a new initializer as we want this to happen only on the initial loading. So we can do this as usual: <code>ember generate initializer webfont-loader</code>.</p>
<p>Then we may define a list of fonts that we can use for our appilication:</p>
<pre class="javascript language-javascript"><code class="hljs javascript language-javascript"><span class="hljs-comment">// app/initializers/webfont-loader.js</span>

<span class="hljs-comment">/* globals WebFont */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">initialize</span>(<span class="hljs-params"></span>) {
    <span class="hljs-title class_">WebFont</span>.<span class="hljs-title function_">load</span>({
        <span class="hljs-attr">google</span>: {
            <span class="hljs-comment">// Here we can define our list of fonts.</span>
            <span class="hljs-comment">// To know how to use the WebFont loader please</span>
            <span class="hljs-comment">// check their documentation:</span>
            <span class="hljs-comment">// https://github.com/typekit/webfontloader</span>
            <span class="hljs-attr">families</span>: [<span class="hljs-string">&#x27;Roboto Mono:400,500,700&#x27;</span>]
        }
    });
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;webfont-loader&#x27;</span>,
  initialize
};
</code></pre>
<p>That is basically it. The result of doing this will be a few events that you can use to do what you need.</p>
<p>Unfortunatelly these events are just simple classes on your <code>&lt;html&gt;</code> element, but it's fairly enough to do what I needed: to set the width of the "navigational indicator".</p>
<p>I'm using one more initializer to reopen the <code>Ember.Route</code> class and add more things to its <code>didTransition</code> actions:</p>
<pre class="javascript language-javascript"><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Ember</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;ember&#x27;</span>;

<span class="hljs-comment">// this is not the best solution from design perspective,</span>
<span class="hljs-comment">// although is the easiest and the most comprehensive</span>
<span class="hljs-keyword">var</span> initialized = <span class="hljs-literal">false</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">initialize</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">if</span> (initialized) {
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-title class_">Ember</span>.<span class="hljs-property">Route</span>.<span class="hljs-title function_">reopen</span>({
        <span class="hljs-attr">actions</span>: {
            <span class="hljs-title function_">didTransition</span>(<span class="hljs-params"></span>) {
                <span class="hljs-keyword">let</span> areFontsLoaded = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">let</span> page = <span class="hljs-title class_">Ember</span>.$(<span class="hljs-string">&#x27;html&#x27;</span>);

                <span class="hljs-comment">// Here I&#x27;m setting the styles of the indicator</span>
                <span class="hljs-keyword">let</span> <span class="hljs-title function_">setIndicator</span> = (<span class="hljs-params"></span>) =&gt; {
                    <span class="hljs-keyword">let</span> indicator = <span class="hljs-title class_">Ember</span>.$(<span class="hljs-string">&#x27;nav .active-indicator&#x27;</span>)[<span class="hljs-number">0</span>];
                    <span class="hljs-keyword">let</span> activeLink = <span class="hljs-title class_">Ember</span>.$(<span class="hljs-string">&#x27;nav li a.active&#x27;</span>)[<span class="hljs-number">0</span>];
                    <span class="hljs-keyword">if</span> (indicator &amp;&amp; activeLink) {
                        indicator.<span class="hljs-property">style</span>.<span class="hljs-property">left</span>  = activeLink.<span class="hljs-property">offsetLeft</span> + <span class="hljs-string">&#x27;px&#x27;</span>;
                        indicator.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = activeLink.<span class="hljs-property">offsetWidth</span> + <span class="hljs-string">&#x27;px&#x27;</span>;
                    }
                };

                <span class="hljs-comment">// And I&#x27;m doing this only when the fonts are loaded</span>
                <span class="hljs-keyword">if</span> (areFontsLoaded) {
                    <span class="hljs-title function_">setIndicator</span>();
                } <span class="hljs-keyword">else</span> {
                 <span class="hljs-comment">// Otherwise we check our &lt;html&gt; tag for wf-active</span>
                    <span class="hljs-comment">// class which is set when the fonts are loaded</span>
                    <span class="hljs-keyword">let</span> checker = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
                        <span class="hljs-keyword">if</span> (page.<span class="hljs-title function_">hasClass</span>(<span class="hljs-string">&#x27;wf-active&#x27;</span>)) {
                            areFontsLoaded = <span class="hljs-literal">true</span>;
                            <span class="hljs-title function_">setIndicator</span>();
                            <span class="hljs-built_in">clearInterval</span>(checker);
                        }
                    }, <span class="hljs-number">10</span>);
                }

                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
        }
    });
    initialized = <span class="hljs-literal">true</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;nav-indicator&#x27;</span>,
  initialize
};
</code></pre>
<p>That was a small example of the usefulness of Web Font Loader library and how to put it inside Ember application.</p>
<p>Please let <a href="http://twitter.com/kuzzmi">me know</a> if you have any questions or you have solved this problem in a different way.</p>
<p><strong>UPDATE 20/02/2016</strong>: As per discussions in comments and suggestions from Ken and Andrey, I've published <a href="https://www.npmjs.com/package/ember-cli-webfontloader">ember-cli-webfontloader</a> addon to avoid all that headache. You may use it, but anyway, I believe that this post is not just about solving one problem, but for showing you, how to solve one-time problems like that.</p></div><div class="Post_footer__JGzaD">Сподобалась стаття? На чай можна лишити <a href="https://fundof.me/kuzzmi?tip" target="_blank" rel="noreferrer">ось тут</a> 😉</div></div></article></section><div class="PageLayout_flag__XuZGa"><div class="PageLayout_blue__CUemv"></div><div class="PageLayout_yellow__R8WIm"></div></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"html":"\u003cp\u003eIn this blog I'm doing one not so tricky, though not trivial thing, when I want to set a navigational indicator styling based on the current \"active\" route.\u003c/p\u003e\n\u003cp\u003eWhile using the web fonts, font-based styling can become a challenge, especially if you need to do this on the page load.\nThe problem is that styling will be done based on the first rendered font before your custom fonts are loaded, so the end result will be wrong.\u003c/p\u003e\n\u003cp\u003eOf course, you might try using timeouts, but this will not work as the long term solution. Basically as always :) My very first attempt was simply delaying styling by using timeouts, but when the network was slow, nothing worked as supposed to, so I decided to go with more robust solution.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eNote\u003c/strong\u003e: This solution will work only if the fonts you're going to use are from \u003ca href=\"https://www.google.com/fonts\"\u003eGoogle Fonts\u003c/a\u003e or \u003ca href=\"http://www.typekit.com/\"\u003eTypekit\u003c/a\u003e and some others, but not so many things are needed to be changed to use other webfonts providers.\u003c/p\u003e\n\u003cp\u003eFirst of all you need to get \u003ca href=\"https://github.com/typekit/webfontloader\"\u003e\u003cstrong\u003eWeb Font Loader\u003c/strong\u003e\u003c/a\u003e script, which is \"co-developed by\u0026nbsp;Google\u0026nbsp;and\u0026nbsp;\u003ca href=\"http://www.typekit.com/\"\u003eTypekit\u003c/a\u003e.\"\u003c/p\u003e\n\u003cp\u003eWFL (Web Font Loader) README file says:\u003c/p\u003e\n\u003cblockquote\u003e\n  \u003cp\u003eWeb Font Loader gives you added control when using linked fonts via @font-face. It provides a common interface to loading fonts regardless of the source, then adds a standard set of events you may use to control the loading experience.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eAfter obtaining the script, you need to include it to your Ember-cli-build configuration:\u003c/p\u003e\n\u003cpre class=\"javascript language-javascript\"\u003e\u003ccode class=\"hljs javascript language-javascript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// ember-cli-build.js\u003c/span\u003e\n...\napp.\u003cspan class=\"hljs-title function_\"\u003eimport\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;vendor/webfontloader.js\u0026#x27;\u003c/span\u003e);\n...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen we need to create a new initializer as we want this to happen only on the initial loading. So we can do this as usual: \u003ccode\u003eember generate initializer webfont-loader\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eThen we may define a list of fonts that we can use for our appilication:\u003c/p\u003e\n\u003cpre class=\"javascript language-javascript\"\u003e\u003ccode class=\"hljs javascript language-javascript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// app/initializers/webfont-loader.js\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e/* globals WebFont */\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003einitialize\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-title class_\"\u003eWebFont\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eload\u003c/span\u003e({\n        \u003cspan class=\"hljs-attr\"\u003egoogle\u003c/span\u003e: {\n            \u003cspan class=\"hljs-comment\"\u003e// Here we can define our list of fonts.\u003c/span\u003e\n            \u003cspan class=\"hljs-comment\"\u003e// To know how to use the WebFont loader please\u003c/span\u003e\n            \u003cspan class=\"hljs-comment\"\u003e// check their documentation:\u003c/span\u003e\n            \u003cspan class=\"hljs-comment\"\u003e// https://github.com/typekit/webfontloader\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003efamilies\u003c/span\u003e: [\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Roboto Mono:400,500,700\u0026#x27;\u003c/span\u003e]\n        }\n    });\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e {\n  \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;webfont-loader\u0026#x27;\u003c/span\u003e,\n  initialize\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThat is basically it. The result of doing this will be a few events that you can use to do what you need.\u003c/p\u003e\n\u003cp\u003eUnfortunatelly these events are just simple classes on your \u003ccode\u003e\u0026lt;html\u0026gt;\u003c/code\u003e element, but it's fairly enough to do what I needed: to set the width of the \"navigational indicator\".\u003c/p\u003e\n\u003cp\u003eI'm using one more initializer to reopen the \u003ccode\u003eEmber.Route\u003c/code\u003e class and add more things to its \u003ccode\u003edidTransition\u003c/code\u003e actions:\u003c/p\u003e\n\u003cpre class=\"javascript language-javascript\"\u003e\u003ccode class=\"hljs javascript language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eEmber\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;ember\u0026#x27;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment\"\u003e// this is not the best solution from design perspective,\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// although is the easiest and the most comprehensive\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e initialized = \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003einitialize\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (initialized) {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e;\n    }\n    \u003cspan class=\"hljs-title class_\"\u003eEmber\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eRoute\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ereopen\u003c/span\u003e({\n        \u003cspan class=\"hljs-attr\"\u003eactions\u003c/span\u003e: {\n            \u003cspan class=\"hljs-title function_\"\u003edidTransition\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n                \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e areFontsLoaded = \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e;\n                \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e page = \u003cspan class=\"hljs-title class_\"\u003eEmber\u003c/span\u003e.$(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;html\u0026#x27;\u003c/span\u003e);\n\n                \u003cspan class=\"hljs-comment\"\u003e// Here I\u0026#x27;m setting the styles of the indicator\u003c/span\u003e\n                \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esetIndicator\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u0026gt; {\n                    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e indicator = \u003cspan class=\"hljs-title class_\"\u003eEmber\u003c/span\u003e.$(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;nav .active-indicator\u0026#x27;\u003c/span\u003e)[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e];\n                    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e activeLink = \u003cspan class=\"hljs-title class_\"\u003eEmber\u003c/span\u003e.$(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;nav li a.active\u0026#x27;\u003c/span\u003e)[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e];\n                    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (indicator \u0026amp;\u0026amp; activeLink) {\n                        indicator.\u003cspan class=\"hljs-property\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eleft\u003c/span\u003e  = activeLink.\u003cspan class=\"hljs-property\"\u003eoffsetLeft\u003c/span\u003e + \u003cspan class=\"hljs-string\"\u003e\u0026#x27;px\u0026#x27;\u003c/span\u003e;\n                        indicator.\u003cspan class=\"hljs-property\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e = activeLink.\u003cspan class=\"hljs-property\"\u003eoffsetWidth\u003c/span\u003e + \u003cspan class=\"hljs-string\"\u003e\u0026#x27;px\u0026#x27;\u003c/span\u003e;\n                    }\n                };\n\n                \u003cspan class=\"hljs-comment\"\u003e// And I\u0026#x27;m doing this only when the fonts are loaded\u003c/span\u003e\n                \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (areFontsLoaded) {\n                    \u003cspan class=\"hljs-title function_\"\u003esetIndicator\u003c/span\u003e();\n                } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n                 \u003cspan class=\"hljs-comment\"\u003e// Otherwise we check our \u0026lt;html\u0026gt; tag for wf-active\u003c/span\u003e\n                    \u003cspan class=\"hljs-comment\"\u003e// class which is set when the fonts are loaded\u003c/span\u003e\n                    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e checker = \u003cspan class=\"hljs-built_in\"\u003esetInterval\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e {\n                        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (page.\u003cspan class=\"hljs-title function_\"\u003ehasClass\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;wf-active\u0026#x27;\u003c/span\u003e)) {\n                            areFontsLoaded = \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e;\n                            \u003cspan class=\"hljs-title function_\"\u003esetIndicator\u003c/span\u003e();\n                            \u003cspan class=\"hljs-built_in\"\u003eclearInterval\u003c/span\u003e(checker);\n                        }\n                    }, \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e);\n                }\n\n                \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e;\n            }\n        }\n    });\n    initialized = \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e;\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e {\n  \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;nav-indicator\u0026#x27;\u003c/span\u003e,\n  initialize\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThat was a small example of the usefulness of Web Font Loader library and how to put it inside Ember application.\u003c/p\u003e\n\u003cp\u003ePlease let \u003ca href=\"http://twitter.com/kuzzmi\"\u003eme know\u003c/a\u003e if you have any questions or you have solved this problem in a different way.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eUPDATE 20/02/2016\u003c/strong\u003e: As per discussions in comments and suggestions from Ken and Andrey, I've published \u003ca href=\"https://www.npmjs.com/package/ember-cli-webfontloader\"\u003eember-cli-webfontloader\u003c/a\u003e addon to avoid all that headache. You may use it, but anyway, I believe that this post is not just about solving one problem, but for showing you, how to solve one-time problems like that.\u003c/p\u003e","type":"blog","meta":{"slug":"web-fonts-webfontloader-and-ember","title":"Web Fonts, WebFontLoader and Ember","layout":"post","lang":"en","description":"In this post I describe why it can be a good idea to use Web Font Loader library and how to use it with Ember application.\n","tags":["technology","javascript","tips","ember","fonts","web development"],"date":"2016-02-07T17:54:44Z"}},"_nextI18Next":{"initialI18nStore":{"ua":{"common":{"common":{"name":"Ігор Кузьменко","version":"версія","articleFooter":"Сподобалась стаття? На чай можна лишити \u003ca href=\"https://fundof.me/kuzzmi?tip\" target=\"_blank\" rel=\"noreferrer\"\u003eось тут\u003c/a\u003e 😉","articleNotAvailable":"Цей контент доступний тільки англійською мовою."},"menu":{"home":"Головна","blog":"Технічні статті","thoughts":"Роздуми","podcast":"Подкаст","projects":"Проєкти","about":"Про мене"},"home":{"meta":{"description":"Домашня сторінка Ігора Кузьменка"},"bio":"розробник та tech підприємець","read":"Читати","recents":"Останні дописи","description":{"part_1":"Тут я публікую ","part_2":"свої роздуми","part_3":" і ","part_4":" технічні статті","part_5":". Завзятий користувач Linux і vim. Співзасновник в "}},"blog":{"description":"Знахідки і всілякі цікавості, якими я захотів поділитися зі світом."},"thoughts":{"description":"Мої роздуми про життя і роботу."},"about":{"body":"Привіт, мене звуть Ігор Кузьменко. Я люблю свою дружину, сина, собаку та кота. А ще я люблю вигадувати різні штукенції і втілювати їх у життя (інколи це вдається, але частіше — ні).\u003cbr /\u003e\u003cbr /\u003eДостатньо довго моя персональна сторінка була схожа на резюме із купою кліше, мені це набридло і я перетворив її на щось, що більше схоже на мене і мій підхід до життя: поєднання легкості, естетики, деякої серйозності і гумору (\u003ci\u003eі скромності\u003c/i\u003e).\u003cbr /\u003e\u003cbr /\u003eУ вільний від роботи час я проводжу з родиною, займаюся пет-проєктами, граю у відео ігри і ще багато чого роблю: від гри на укулєлє і малювання, до електротехніки і спортивного керування автівкою.\u003cbr /\u003e\u003cbr /\u003eЯ безліч разів намагався підвищити рівень своєї онлайн-присутності, проте це ніколи не триває довго 🙃\u003cbr /\u003e\u003cbr /\u003eМої соціальні мережі і контакти доступні ось тут: \u003ca href=\"https://fundof.me/igor\"\u003efundof.me/igor\u003c/a\u003e"},"tags":{"philosophy":"філософія","psychology":"психологія","story":"моя історія","marketing":"маркетинг","startup":"стартапи","bad advice":"шкідливі поради","career":"кар'єра","work":"робота","burn out":"вигоряння"}}},"en":{"common":{"common":{"name":"Igor Kuzmenko","version":"version","articleFooter":"If you enjoyed the reading, you can tip me \u003ca href=\"https://fundof.me/kuzzmi?tip\" target=\"_blank\" rel=\"noreferrer\"\u003ehere\u003c/a\u003e 😉","articleNotAvailable":"This content is available only in Ukrainian."},"menu":{"home":"Home","blog":"Tech articles","thoughts":"Thoughts","podcast":"Podcast","projects":"Projects","about":"About me"},"home":{"meta":{"description":"Home page of Igor Kuzmenko"},"bio":"developer and tech entrepreneur","read":"Read","recents":"Recent publications","description":{"part_1":"Here I publish ","part_2":"my thoughts","part_3":" and ","part_4":" tech articles","part_5":". Avid Linux and vim user. Co-founder at "}},"blog":{"description":"Different findings in the tech world that I want to share with world."},"thoughts":{"description":"My thoughts about life and work in Ukrainian."},"about":{"body":"Hi 👋\u003cbr /\u003e\u003cbr /\u003eMy name is Igor Kuzmenko. I love my wife, son, dog and cat. And I love making things up and making them real (but more often this doesn't happen).\u003cbr /\u003e\u003cbr /\u003eFor a long time, my personal page seemed like an official paper with a bunch of clichés, so I got sick of it and turned it into something what feels more like me and my approach to life: a combination of lightness, aesthetics, some seriousness and humor (and modesty).\u003cbr /\u003e\u003cbr /\u003eI spend my spare time with my family, doing pet projects, playing video games and more: from playing the ukulele and drawing, to electrical engineering and sports car driving.\u003cbr /\u003e\u003cbr /\u003eI've tried countless times to increase my online presence, but it never lasts long 🙃\u003cbr /\u003e\u003cbr /\u003eMy social networks and contacts are available here: \u003ca href=\"https://fundof.me/igor\"\u003efundof.me/igor\u003c/a\u003e"}}}},"initialLocale":"ua","userConfig":{"i18n":{"defaultLocale":"en","locales":["en","ua"]},"default":{"i18n":{"defaultLocale":"en","locales":["en","ua"]}}}}},"__N_SSG":true},"page":"/[locale]/blog/[slug]","query":{"locale":"ua","slug":"web-fonts-webfontloader-and-ember"},"buildId":"1UWvdfdzWhWGN3JZU9Q4a","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>